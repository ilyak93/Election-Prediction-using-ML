from os import path
from pandas import DataFrame
import pandas as pd
import numpy as np
from sklearn.model_selection import cross_val_score
import matplotlib.pyplot as plt

# lists
all_features = ['Vote', 'Occupation_Satisfaction',
                'Avg_monthly_expense_when_under_age_21',
                'Avg_lottary_expanses',
                'Is_Most_Important_Issue__0', 'Is_Most_Important_Issue__1',
                'Is_Most_Important_Issue__2', 'Is_Most_Important_Issue__3',
                'Is_Most_Important_Issue__4', 'Is_Most_Important_Issue__5',
                'Is_Most_Important_Issue__6', 'Is_Most_Important_Issue__7',
                'Avg_Satisfaction_with_previous_vote', 'Looking_at_poles_results',
                'Garden_sqr_meter_per_person_in_residancy_area', 'Married',
                'Gender',
                'Voting_Time', 'Financial_balance_score_(0-1)',
                '%Of_Household_Income',
                'Avg_government_satisfaction', 'Avg_education_importance',
                'Avg_environmental_importance', 'Avg_Residancy_Altitude',
                'Yearly_ExpensesK', '%Time_invested_in_work', 'Yearly_IncomeK',
                'Avg_monthly_expense_on_pets_or_plants',
                'Avg_monthly_household_cost',
                'Will_vote_only_large_party', 'Phone_minutes_10_years',
                'Avg_size_per_room', 'Weighted_education_rank',
                '%_satisfaction_financial_policy',
                'Avg_monthly_income_all_years',
                'Last_school_grades', 'Age_group',
                'Number_of_differnt_parties_voted_for',
                'Political_interest_Total_Score',
                'Number_of_valued_Kneset_members',
                'Is_Main_transportation__0',
                'Is_Main_transportation__1',
                'Is_Main_transportation__2',
                'Is_Main_transportation__3',
                'Is_Occupation__0', 'Is_Occupation__1',
                'Is_Occupation__2', 'Is_Occupation__3',
                'Is_Occupation__4', 'Overall_happiness_score',
                'Num_of_kids_born_last_10_years', 'Financial_agenda_matters']

features_without_label = ['Occupation_Satisfaction',
                          'Avg_monthly_expense_when_under_age_21',
                          'Avg_lottary_expanses',
                          'Is_Most_Important_Issue__0', 'Is_Most_Important_Issue__1',
                          'Is_Most_Important_Issue__2', 'Is_Most_Important_Issue__3',
                          'Is_Most_Important_Issue__4', 'Is_Most_Important_Issue__5',
                          'Is_Most_Important_Issue__6', 'Is_Most_Important_Issue__7',
                          'Avg_Satisfaction_with_previous_vote',
                          'Looking_at_poles_results',
                          'Garden_sqr_meter_per_person_in_residancy_area',
                          'Married', 'Gender',
                          'Voting_Time', 'Financial_balance_score_(0-1)',
                          '%Of_Household_Income',
                          'Avg_government_satisfaction',
                          'Avg_education_importance',
                          'Avg_environmental_importance',
                          'Avg_Residancy_Altitude',
                          'Yearly_ExpensesK', '%Time_invested_in_work',
                          'Yearly_IncomeK',
                          'Avg_monthly_expense_on_pets_or_plants',
                          'Avg_monthly_household_cost',
                          'Will_vote_only_large_party',
                          'Phone_minutes_10_years',
                          'Avg_size_per_room', 'Weighted_education_rank',
                          '%_satisfaction_financial_policy',
                          'Avg_monthly_income_all_years',
                          'Last_school_grades', 'Age_group',
                          'Number_of_differnt_parties_voted_for',
                          'Political_interest_Total_Score',
                          'Number_of_valued_Kneset_members',
                          'Is_Main_transportation__0',
                          'Is_Main_transportation__1',
                          'Is_Main_transportation__2',
                          'Is_Main_transportation__3',
                          'Is_Occupation__0', 'Is_Occupation__1',
                          'Is_Occupation__2', 'Is_Occupation__3',
                          'Is_Occupation__4',
                          'Overall_happiness_score',
                          'Num_of_kids_born_last_10_years',
                          'Financial_agenda_matters']

features_without_label_n = ['Occupation_Satisfaction',
                          'Avg_monthly_expense_when_under_age_21',
                          'Avg_lottary_expanses',
                          'Most_Important_Issue',
                          'Avg_Satisfaction_with_previous_vote',
                          'Looking_at_poles_results',
                          'Garden_sqr_meter_per_person_in_residancy_area',
                          'Married', 'Gender',
                          'Voting_Time', 'Financial_balance_score_(0-1)',
                          '%Of_Household_Income',
                          'Avg_government_satisfaction',
                          'Avg_education_importance',
                          'Avg_environmental_importance',
                          'Avg_Residancy_Altitude',
                          'Yearly_ExpensesK', '%Time_invested_in_work',
                          'Yearly_IncomeK',
                          'Avg_monthly_expense_on_pets_or_plants',
                          'Avg_monthly_household_cost',
                          'Will_vote_only_large_party',
                          'Phone_minutes_10_years',
                          'Avg_size_per_room', 'Weighted_education_rank',
                          '%_satisfaction_financial_policy',
                          'Avg_monthly_income_all_years',
                          'Last_school_grades', 'Age_group',
                          'Number_of_differnt_parties_voted_for',
                          'Political_interest_Total_Score',
                          'Number_of_valued_Kneset_members',
                          'Main_transportation',
                          'Occupation',
                          'Overall_happiness_score',
                          'Num_of_kids_born_last_10_years',
                          'Financial_agenda_matters']

nominal_features = ['Is_Most_Important_Issue__0', 'Is_Most_Important_Issue__1',
                    'Is_Most_Important_Issue__2', 'Is_Most_Important_Issue__3',
                    'Is_Most_Important_Issue__4', 'Is_Most_Important_Issue__5',
                    'Is_Most_Important_Issue__6', 'Is_Most_Important_Issue__7',
                    'Looking_at_poles_results',
                    'Married',
                    'Gender', 'Voting_Time', 'Will_vote_only_large_party',
                    'Age_group',
                    'Is_Main_transportation__0',
                    'Is_Main_transportation__1',
                    'Is_Main_transportation__2',
                    'Is_Main_transportation__3',
                    'Is_Occupation__0', 'Is_Occupation__1',
                    'Is_Occupation__2', 'Is_Occupation__3',
                    'Is_Occupation__4',
                    'Financial_agenda_matters']

numerical_features = ['Occupation_Satisfaction',
                      'Avg_monthly_expense_when_under_age_21',
                      'Avg_lottary_expanses',
                      'Avg_Satisfaction_with_previous_vote',
                      'Garden_sqr_meter_per_person_in_residancy_area',
                      'Financial_balance_score_(0-1)', '%Of_Household_Income',
                      'Avg_government_satisfaction',
                      'Avg_education_importance',
                      'Avg_environmental_importance', 'Avg_Residancy_Altitude',
                      'Yearly_ExpensesK', '%Time_invested_in_work',
                      'Yearly_IncomeK',
                      'Avg_monthly_expense_on_pets_or_plants',
                      'Avg_monthly_household_cost', 'Phone_minutes_10_years',
                      'Avg_size_per_room', 'Weighted_education_rank',
                      '%_satisfaction_financial_policy',
                      'Avg_monthly_income_all_years', 'Last_school_grades',
                      'Number_of_differnt_parties_voted_for',
                      'Political_interest_Total_Score',
                      'Number_of_valued_Kneset_members',
                      'Overall_happiness_score',
                      'Num_of_kids_born_last_10_years']

multi_nominal_features = ['Vote', 'Is_Most_Important_Issue__0', 'Is_Most_Important_Issue__1',
                          'Is_Most_Important_Issue__2', 'Is_Most_Important_Issue__3',
                          'Is_Most_Important_Issue__4', 'Is_Most_Important_Issue__5',
                          'Is_Most_Important_Issue__6', 'Is_Most_Important_Issue__7',
                          'Is_Main_transportation__0',
                          'Is_Main_transportation__1',
                          'Is_Main_transportation__2',
                          'Is_Main_transportation__3',
                          'Is_Occupation__0', 'Is_Occupation__1',
                          'Is_Occupation__2', 'Is_Occupation__3',
                          'Is_Occupation__4']

uniform_features = ['Occupation_Satisfaction', 'Looking_at_poles_results',
                    'Married', 'Gender',
                    'Voting_Time', 'Financial_balance_score_(0-1)',
                    '%Of_Household_Income',
                    'Avg_government_satisfaction', 'Avg_education_importance',
                    'Avg_environmental_importance',
                    'Avg_Residancy_Altitude', 'Yearly_ExpensesK',
                    '%Time_invested_in_work',
                    '%_satisfaction_financial_policy', 'Age_group',
                    'Is_Main_transportation__0',
                    'Is_Main_transportation__1',
                    'Is_Main_transportation__2',
                    'Is_Main_transportation__3',
                    'Is_Occupation__0', 'Is_Occupation__1',
                    'Is_Occupation__2', 'Is_Occupation__3',
                    'Is_Occupation__4',
                    'Financial_agenda_matters']

normal_features = ['Garden_sqr_meter_per_person_in_residancy_area',
                   'Yearly_IncomeK',
                   'Avg_monthly_expense_on_pets_or_plants',
                   'Avg_monthly_household_cost', 'Avg_size_per_room',
                   'Number_of_differnt_parties_voted_for',
                   'Political_interest_Total_Score',
                   'Number_of_valued_Kneset_members',
                   'Overall_happiness_score']


nominal_features_n = ['Most_Important_Issue',
                    'Looking_at_poles_results',
                    'Married',
                    'Gender', 'Voting_Time', 'Will_vote_only_large_party',
                    'Age_group',
                    'Main_transportation',
                    'Occupation',
                    'Financial_agenda_matters']

numerical_features_n = ['Occupation_Satisfaction',
                      'Avg_monthly_expense_when_under_age_21',
                      'Avg_lottary_expanses',
                      'Avg_Satisfaction_with_previous_vote',
                      'Garden_sqr_meter_per_person_in_residancy_area',
                      'Financial_balance_score_(0-1)', '%Of_Household_Income',
                      'Avg_government_satisfaction',
                      'Avg_education_importance',
                      'Avg_environmental_importance', 'Avg_Residancy_Altitude',
                      'Yearly_ExpensesK', '%Time_invested_in_work',
                      'Yearly_IncomeK',
                      'Avg_monthly_expense_on_pets_or_plants',
                      'Avg_monthly_household_cost', 'Phone_minutes_10_years',
                      'Avg_size_per_room', 'Weighted_education_rank',
                      '%_satisfaction_financial_policy',
                      'Avg_monthly_income_all_years', 'Last_school_grades',
                      'Number_of_differnt_parties_voted_for',
                      'Political_interest_Total_Score',
                      'Number_of_valued_Kneset_members',
                      'Overall_happiness_score',
                      'Num_of_kids_born_last_10_years']

def score(x_train: DataFrame, y_train: DataFrame, clf):
    return cross_val_score(clf, x_train, y_train, cv=3,
                           scoring='accuracy').mean()
